# 一、功能性需求

## （一）UI层面需求

1. 主界面

- 继续游戏：若有保存的未完成的关卡则显示 
- 新游戏 ： 首先开发第一种普通模式， 后续若有时间可考虑多种模式。
- 难度（可选）：在UI中可视化当前配置的难度
- 设置 有多项设置，如道具配置，音乐声音大小，音效声音大小，帧率，缓存机制等等
- 历史记录：记录玩家历史分数，用时等

2. 关卡界面：

- 列出可选关卡保存通关星星数量

3. 游戏界面：

- 棋盘区域: 清晰显示方块对象。
- 得分显示: 实时更新当前分数。
- 步数/时间显示: 实时更新剩余步数或时间。
- 目标显示: 清晰显示当前关卡的目标（例如：消除20个红色方块，达到5000分）。
- 道具栏: 显示玩家拥有的道具及其数量，并支持点击使用。
- 菜单栏: 暂停游戏并弹出暂停菜单， 此菜单的相关布局有继续游戏，设置，重新开始，退出游戏等等。

4. 暂停菜单界面:

- 继续游戏按钮。
- 重新开始本关按钮。
- 返回主界面按钮。
- 设置按钮。
- 结算界面 (胜利/失败):
- 显示本次游戏得分。
- 显示是否达成关卡目标。
- “下一关”/“重试”按钮。
- “返回主界面”按钮。

5. 设置界面:
- 背景音乐音量控制。
- 音效音量控制。
- 震动开关。
- 可能包含语言选择。

6. 结算画面
- 本次挑战分数，用时
- 是否破纪录
- 历史记录最快用时，最高分数
- 胜利失败的不同音效

## （二）核心玩法需求

1. 游戏棋盘:
- 棋盘内随机填充不同种类（颜色/形状）的方块。
- 支持方块的下落和补充（当方块被消除后）。

2. 方块交换与消除:
- 玩家可以通过拖动或点击两个相邻方块来交换它们的位置。
- 交换后，如果形成横向或纵向三个或更多相同方块的组合，则消除。
- 支持连消（当方块下落后再次形成可消除组合）。
- 支持“L”型、“T”型等特殊形状的消除，凡是相连即可。

3. 特殊方块生成与效果:
- 横向/纵向消除方块: 消除4个方块时生成，点击或匹配时可消除整行/整列。
- 爆炸方块/范围消除方块: 消除5个或更多方块时生成，点击或匹配时可消除周围区域。
- 百搭方块: 消除T/L型等特殊形状时生成，可与任意颜色方块匹配消除。

4. 分数系统:
- 每次消除方块获得基础分数。
- 连击（Combo）获得额外加分。
- 消除特殊方块获得更高分数。
- 根据步时、总时计算分数。
- 游戏结束时结算总分。

5. 胜利/失败条件:
- 分数目标: 在规定步数或时间内达到指定分数。
- 消除目标: 消除特定数量的某种方块。
- 道具收集目标: 消除特定方块或完成特定任务以收集道具。
- 步数限制/时间限制: 达到步数或时间限制而未完成目标则失败。

## （三）用户体验 (UX) 需求

- 方块交换动画。
- 方块消除动画。
- 方块下落动画。
- 特殊方块爆炸、消除动画。
- 分数跳动动画。
- 清晰的音效反馈:
- 方块交换音效。
- 方块消除音效。
- 连击特效。
- 特殊方块生成与消除音效。
- 按钮点击音效。
- 胜利/失败音效。
- 特殊方块的独特视觉标识。
- 分数的动态增长。
- 良好的触控响应:
- 准确识别玩家的点击和拖动操作。


## （四）数据存储以及配置需求
- 通关记录的保存
- 未完成关卡的继续
- 关卡的数据缓存
- 存储不同关卡的配置（目标、步数、时间，布局，各种特殊参数等）。

## 二、非功能性需求
1. 性能:
- 合理分配内存空间，游戏运行流畅，无卡顿。
- 响应速度快，加载速度快。
2. 稳定性:
- 无闪退、崩溃等严重Bug。
3. 可扩展性:
- 未来可以方便地添加新关卡、新方块、新道具、新模式。
4. 项目最终打包成应用程序，在主流windows上可正常运行